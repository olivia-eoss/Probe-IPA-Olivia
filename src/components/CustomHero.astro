---
import Button from "./Button.astro";
import { Image } from "astro:assets";
import icon from "../assets/icon.png";

const { pathname } = Astro.url;

// nur auf der Startseite anzeigen
const isHome = pathname === "/" || pathname === "/index";
---

{
  isHome && (
    <section class="custom-hero">
      <div class="custom-hero__content">
        <h1>Anleitungen, Prozesse und Konfigurationen</h1>
        <p class="custom-hero__tagline">metasfresh Dokumentation</p>

        <div class="custom-hero__actions">
          <Button href="/einstieg/anmeldung/" variant="green">
            Für Anwender starten
          </Button>
          <Button
            href="/erweitertefunktionen/datenimportexport/datenexport_aus_metasfresh/"
            variant="orange"
          >
            Für Administratoren & Entwickler starten
          </Button>
        </div>
      </div>

      <div class="custom-hero__image" aria-hidden="true">
        <Image src={icon} alt="" class="custom-hero__image-img" />
      </div>
    </section>
  )
}

<style>
  .custom-hero {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: clamp(1.25rem, 3vw, 3rem);

    padding: clamp(1.25rem, 4vw, 5rem);
    background-color: var(--color-background-light);
    border-radius: 8px;

    /* Das ist der Abstand zur Inhaltsübersicht */
    margin-bottom: 1.25rem;
  }

  .custom-hero__content {
    flex: 1 1 520px;
    min-width: 0;
  }

  .custom-hero__content h1 {
    font-size: clamp(1.6rem, 3.2vw, 2.6rem);
    line-height: 1.1;
    margin: 0;
  }

  .custom-hero__tagline {
    margin-top: 0.6rem;
    margin-bottom: 1.25rem;
  }

  .custom-hero__actions {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    align-items: center;
  }

  .custom-hero__image {
    flex: 0 0 auto;
    display: flex;
    justify-content: flex-end;
    align-items: center;
  }

  .custom-hero__image-img {
    width: clamp(140px, 18vw, 250px);
    height: auto;
    max-width: 100%;
  }

  /* Tablet: kompakter + Icon weg */
  @media (max-width: 900px) {
    .custom-hero {
      padding: 1.5rem;
      margin-bottom: 1rem;
    }

    .custom-hero__image {
      display: none !important;
    }
  }

  /* Mobile: untereinander + Buttons full width + super kompakt */
  @media (max-width: 700px) {
    .custom-hero {
      flex-direction: column;
      align-items: flex-start;

      padding: 1.25rem !important;
      margin-bottom: 0.75rem !important;
      gap: 0.75rem !important;
    }

    .custom-hero__content {
      max-width: 100% !important;
    }

    .custom-hero__actions {
      width: 100%;
    }

    .custom-hero__actions :global(a),
    .custom-hero__actions :global(button) {
      width: 100%;
      justify-content: center;
    }

    .custom-hero__content {
      flex: initial !important; /* entfernt 1 1 520px */
      min-width: 0 !important;
      width: 100% !important;
    }
  }
</style>
